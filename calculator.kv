#:import NumBases components.enums.NumBases

# Define Widgets
<CalcInput>
    multiline: False
    # When submitted
    on_text_validate: self.eval()

<CalcButton@Button>:
    # Default button from which
    # all buttons will be derived

<OpButton>

<NumButton@CalcButton>


# UIX
BoxLayout:
	orientation: "vertical"
	padding: 20
	CalcInput:
	    id: num_input
		text: "0"
		on_focus: pass
		size_hint_y: None
		height: 100

	GridLayout:
		rows: 5
		cols: 3

        # Row 5
        OpButton:
            text: "Dec"
            on_press: num_input.prev_base = num_input.base; num_input.base = NumBases.DEC; num_input.eval()
        OpButton:
            text: "Bin"
            on_press: num_input.prev_base = num_input.base; num_input.base = NumBases.BIN; num_input.eval()
        OpButton:
            text: "Hex"
            on_press: num_input.prev_base = num_input.base; num_input.base = NumBases.HEX; num_input.eval()
        # Row 4
		OpButton:
		    text: "+"
		    on_press: num_input.add_input(f" {self.text} ")
		OpButton:
		    text: "-"
		    on_press: num_input.add_input(f" {self.text} ")
		OpButton:
		    text: "="
		    on_press: num_input.eval()

		# Row 3
		NumButton:
            text: "7"
            on_press: num_input.add_input(self.text)
		NumButton:
			text: "8"
			on_press: num_input.add_input(self.text)
		NumButton:
			text: "9"
			on_press: num_input.add_input(self.text)

		# Row 2
		Button:
			text: "4"
			on_press: num_input.add_input(self.text)
		Button:
			text: "5"
			on_press: num_input.add_input(self.text)
		Button:
			text: "6"
			on_press: num_input.add_input(self.text)

		# Row 1
		Button:
			text: "1"
			on_press: num_input.add_input(self.text)
		Button:
			text: "2"
			on_press: num_input.add_input(self.text)
		Button:
			text: "3"
			on_press: num_input.add_input(self.text)